!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Tappable=e()}}(function(){return function e(t,o,s){function i(c,r){if(!o[c]){if(!t[c]){var h="function"==typeof require&&require;if(!r&&h)return h(c,!0);if(n)return n(c,!0);var p=new Error("Cannot find module '"+c+"'");throw p.code="MODULE_NOT_FOUND",p}var l=o[c]={exports:{}};t[c][0].call(l.exports,function(e){var o=t[c][1][e];return i(o?o:e)},l,l.exports,e,t,o,s)}return o[c].exports}for(var n="function"==typeof require&&require,c=0;c<s.length;c++)i(s[c]);return i}({1:[function(e,t,o){"use strict";var s=e("./TappableMixin"),i=e("./getComponent"),n=e("./touchStyles"),c=i([s]);t.exports=c,t.exports.touchStyles=n,t.exports.Mixin=s},{"./TappableMixin":2,"./getComponent":3,"./touchStyles":4}],2:[function(e,t,o){(function(e){"use strict";function o(e){return e?{pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY}:{}}var s="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,i="undefined"!=typeof window?window.ReactDOM:"undefined"!=typeof e?e.ReactDOM:null,n=32,c=13,r={propTypes:{moveThreshold:s.PropTypes.number,moveXThreshold:s.PropTypes.number,moveYThreshold:s.PropTypes.number,activeDelay:s.PropTypes.number,allowReactivation:s.PropTypes.bool,pressDelay:s.PropTypes.number,pressMoveThreshold:s.PropTypes.number,preventDefault:s.PropTypes.bool,stopPropagation:s.PropTypes.bool,onTap:s.PropTypes.func,onDeactivate:s.PropTypes.func,onReactivate:s.PropTypes.func,onPress:s.PropTypes.func,onTouchStart:s.PropTypes.func,onTouchMove:s.PropTypes.func,onTouchEnd:s.PropTypes.func,onMouseDown:s.PropTypes.func,onMouseUp:s.PropTypes.func,onMouseMove:s.PropTypes.func,onMouseOut:s.PropTypes.func,onKeyDown:s.PropTypes.func,onKeyUp:s.PropTypes.func},getDefaultProps:function(){return{activeDelay:0,allowReactivation:!0,moveThreshold:100,pressDelay:1e3,pressMoveThreshold:5}},getInitialState:function(){return{isActive:!1,touchActive:!1,pinchActive:!1}},componentWillUnmount:function(){this.cleanupScrollDetection(),this.cancelPressDetection(),this.clearActiveTimeout()},componentWillUpdate:function(e,t){this.state.isActive&&!t.isActive?this.props.onDeactivate&&this.props.onDeactivate():!this.state.isActive&&t.isActive&&this.props.onReactivate&&this.props.onReactivate()},processEvent:function(e){this.props.preventDefault&&e.preventDefault(),this.props.stopPropagation&&e.stopPropagation()},onTouchStart:function(e){this.props.onTouchStart&&this.props.onTouchStart(e)===!1||(this.processEvent(e),window._blockMouseEvents=!0,1===e.touches.length?(this._initialTouch=this._lastTouch=o(e.touches[0]),this.initScrollDetection(),this.initPressDetection(e,this.endTouch),this.initTouchmoveDetection(),0===this.props.activeDelay?this.makeActive():this._activeTimeout=setTimeout(this.makeActive,this.props.activeDelay)):this.onPinchStart&&(this.props.onPinchStart||this.props.onPinchMove||this.props.onPinchEnd)&&2===e.touches.length&&this.onPinchStart(e))},makeActive:function(){this.isMounted()&&(this.clearActiveTimeout(),this.setState({isActive:!0}))},clearActiveTimeout:function(){clearTimeout(this._activeTimeout),this._activeTimeout=!1},initScrollDetection:function(){this._scrollPos={top:0,left:0},this._scrollParents=[],this._scrollParentPos=[];for(var e=i.findDOMNode(this);e;)(e.scrollHeight>e.offsetHeight||e.scrollWidth>e.offsetWidth)&&(this._scrollParents.push(e),this._scrollParentPos.push(e.scrollTop+e.scrollLeft),this._scrollPos.top+=e.scrollTop,this._scrollPos.left+=e.scrollLeft),e=e.parentNode},initTouchmoveDetection:function(){this._touchmoveTriggeredTimes=0},cancelTouchmoveDetection:function(){this._touchmoveDetectionTimeout&&(clearTimeout(this._touchmoveDetectionTimeout),this._touchmoveDetectionTimeout=null,this._touchmoveTriggeredTimes=0)},calculateMovement:function(e){return{x:Math.abs(e.clientX-this._initialTouch.clientX),y:Math.abs(e.clientY-this._initialTouch.clientY)}},detectScroll:function(){for(var e={top:0,left:0},t=0;t<this._scrollParents.length;t++)e.top+=this._scrollParents[t].scrollTop,e.left+=this._scrollParents[t].scrollLeft;return!(e.top===this._scrollPos.top&&e.left===this._scrollPos.left)},cleanupScrollDetection:function(){this._scrollParents=void 0,this._scrollPos=void 0},initPressDetection:function(e,t){this.props.onPress&&(this._pressTimeout=setTimeout(function(){this.props.onPress(e),t()}.bind(this),this.props.pressDelay))},cancelPressDetection:function(){clearTimeout(this._pressTimeout)},onTouchMove:function(e){if(this._initialTouch){if(this.processEvent(e),this.detectScroll())return this.endTouch(e);0===this._touchmoveTriggeredTimes++&&(this._touchmoveDetectionTimeout=setTimeout(function(){1===this._touchmoveTriggeredTimes&&this.endTouch(e)}.bind(this),64)),this.props.onTouchMove&&this.props.onTouchMove(e),this._lastTouch=o(e.touches[0]);var t=this.calculateMovement(this._lastTouch);(t.x>this.props.pressMoveThreshold||t.y>this.props.pressMoveThreshold)&&this.cancelPressDetection(),t.x>(this.props.moveThresholdX||this.props.moveThreshold)||t.y>(this.props.moveThresholdY||this.props.moveThreshold)?this.state.isActive?this.setState({isActive:!1}):this._activeTimeout&&this.clearActiveTimeout():this.props.allowReactivation&&(this.state.isActive||this._activeTimeout||this.setState({isActive:!0}))}else this._initialPinch&&2===e.touches.length&&this.onPinchMove&&(this.onPinchMove(e),e.preventDefault())},onTouchEnd:function(e){var t=this;if(this._initialTouch){this.processEvent(e);var o,s=this.calculateMovement(this._lastTouch);s.x<=(this.props.moveThresholdX||this.props.moveThreshold)&&s.y<=(this.props.moveThresholdY||this.props.moveThreshold)&&this.props.onTap&&(e.preventDefault(),o=function(){var o=t._scrollParents.map(function(e){return e.scrollTop+e.scrollLeft}),s=t._scrollParentPos.some(function(e,t){return e!==o[t]});s||t.props.onTap(e)}),this.endTouch(e,o)}else this.onPinchEnd&&this._initialPinch&&e.touches.length+e.changedTouches.length===2&&(this.onPinchEnd(e),e.preventDefault())},endTouch:function(e,t){this.cancelTouchmoveDetection(),this.cancelPressDetection(),this.clearActiveTimeout(),e&&this.props.onTouchEnd&&this.props.onTouchEnd(e),this._initialTouch=null,this._lastTouch=null,t&&t(),this.state.isActive&&this.setState({isActive:!1})},onMouseDown:function(e){return window._blockMouseEvents?void(window._blockMouseEvents=!1):void(this.props.onMouseDown&&this.props.onMouseDown(e)===!1||(this.processEvent(e),this.initPressDetection(e,this.endMouseEvent),this._mouseDown=!0,this.setState({isActive:!0})))},onMouseMove:function(e){!window._blockMouseEvents&&this._mouseDown&&(this.processEvent(e),this.props.onMouseMove&&this.props.onMouseMove(e))},onMouseUp:function(e){!window._blockMouseEvents&&this._mouseDown&&(this.processEvent(e),this.props.onMouseUp&&this.props.onMouseUp(e),this.props.onTap&&this.props.onTap(e),this.endMouseEvent())},onMouseOut:function(e){!window._blockMouseEvents&&this._mouseDown&&(this.processEvent(e),this.props.onMouseOut&&this.props.onMouseOut(e),this.endMouseEvent())},endMouseEvent:function(){this.cancelPressDetection(),this._mouseDown=!1,this.setState({isActive:!1})},onKeyUp:function(e){this._keyDown&&(this.processEvent(e),this.props.onKeyUp&&this.props.onKeyUp(e),this.props.onTap&&this.props.onTap(e),this._keyDown=!1,this.cancelPressDetection(),this.setState({isActive:!1}))},onKeyDown:function(e){this.props.onKeyDown&&this.props.onKeyDown(e)===!1||e.which!==n&&e.which!==c||this._keyDown||(this.initPressDetection(e,this.endKeyEvent),this.processEvent(e),this._keyDown=!0,this.setState({isActive:!0}))},endKeyEvent:function(){this.cancelPressDetection(),this._keyDown=!1,this.setState({isActive:!1})},cancelTap:function(){this.endTouch(),this._mouseDown=!1},handlers:function(){return{onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onMouseMove:this.onMouseMove,onMouseOut:this.onMouseOut,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp}}};t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,t,o){(function(o){"use strict";var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s])}return e},i="undefined"!=typeof window?window.React:"undefined"!=typeof o?o.React:null,n=e("./touchStyles");t.exports=function(e){return i.createClass({displayName:"Tappable",mixins:e,propTypes:{component:i.PropTypes.any,className:i.PropTypes.string,classBase:i.PropTypes.string,classes:i.PropTypes.object,style:i.PropTypes.object,disabled:i.PropTypes.bool},getDefaultProps:function(){return{component:"span",classBase:"Tappable"}},render:function(){var e=this.props,t=e.classBase+(this.state.isActive?"-active":"-inactive");e.className&&(t+=" "+e.className),e.classes&&(t+=" "+(this.state.isActive?e.classes.active:e.classes.inactive));var o={};s(o,n,e.style);var c=s({},e,{style:o,className:t,disabled:e.disabled,handlers:this.handlers},this.handlers());return delete c.activeDelay,delete c.classBase,delete c.classes,delete c.handlers,delete c.onTap,delete c.onPress,delete c.onPinchStart,delete c.onPinchMove,delete c.onPinchEnd,delete c.moveThreshold,delete c.pressDelay,delete c.pressMoveThreshold,delete c.preventDefault,delete c.stopPropagation,delete c.component,i.createElement(e.component,c,e.children)}})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./touchStyles":4}],4:[function(e,t,o){"use strict";var s={WebkitTapHighlightColor:"rgba(0,0,0,0)",WebkitTouchCallout:"none",WebkitUserSelect:"none",KhtmlUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none",cursor:"pointer"};t.exports=s},{}]},{},[1])(1)});